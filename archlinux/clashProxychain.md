# archlinux clash proxychain

archlinux系统更新源中clash使用困难，pacman -S clash

直接去github下载官方版本安装，管理界面可以在浏览器中访问clash.razord.top/#/proxies中设置

archlinux kde中系统设置->网络代理设置并不起作用，firefox可以在浏览器中直接设置代理

```
manual proxy configuration
	http proxy 127.0.0.1:7890
	https proxy 127.0.0.1:7890
	socks host 127.0.0.1:7891
```

对于需要应用程序需要使用代理的，可以使用proxychain

```
//在/etc/proxychains.conf中修改
# vim /etc/proxychains.conf
[ProxyList]
http 127.0.0.1 7890
socks5 127.0.0.1 7891
```

```
//使用方法
proxychains yarn add coc-go
```

[clash restful api使用](https://clash.gitbook.io/doc/restful-api/proxies)

[相关讨论](http://machbbs.com/hostloc/337458)

```shell
//clash restful api接口 终端使用
# zt @ zt-zjh in ~ [10:35:26]
$ curl 127.0.0.1:9090/proxies
{"proxies":{"DIRECT":{"history":[],"name":"DIRECT","type":"Direct","udp":true},"GLOBAL":{"all":["DIRECT","REJECT","香港 01","香港 02","香港 03","新加坡 01","新加坡 02","新加坡 03","日本 01","日本 02","日本 03","美国 01","美国 02","美国 03","台湾 01","台湾 02","越南 01","德国 01","香港 04","香港 05","台湾 03","日本 04","日本 05","日本 06","印度尼西亚 01","香港 06","香港 07","香港 08","香港 09","香港 10","美国 04","美国 05","新加坡 04","新加坡 05","新加坡 06","新加坡 07","新加坡 08","印度 01","日本 07","日本 08","美国 06","美国 07","巴西 01","意大利 01","荷兰 01","英国 01","澳大利亚 01","法国 01","加拿大 01","� 节点选择","� 国外媒体","� 电报信息","Ⓜ️ 微软服务","� 苹果服务","� 谷歌FCM","� 全球直连","� 全球拦截","� 应用净化","� 漏网之鱼"],"history":[],"name":"GLOBAL","now":"DIRECT","type":"Selector","udp":true},"REJECT":{"history":[],"name":"REJECT","type":"Reject","udp":true},"Ⓜ️ 微软服务":{"all":["� 全球直连","�节点选择","香港 01","香港 02","香港 03","新加坡 01","新加坡 02","新加坡 03","日本 01","日本 02","日本 03","美国 01","美国 02","美国 03","台湾 01","台湾 02","越南 01","德国 01","香港 04","香港 05","台湾 03","日本 04","日本 05","日本 06","印度尼西亚 01","香港 06","香港 07","香港 08","香港 09","香港 10","美国 04","美国 05","新加坡 04","新加坡 05","新加坡 06","新加坡 07","新加
坡 08","印度 01","日本 07","日本 08","美国 06","美国 07","巴西 01","意大利 01","荷兰 01","英国 01","澳大利亚 01","法国 01","加拿大 01"],"history":[],"name":"Ⓜ️ 微软服务","now":"� 全球直连","type":"Selector","udp":true},"加拿大 01":{"history":[],"name":"加拿大 01","type":"Shadowsocks","udp":true},"印度 01":{"history":[],"name":"印度 01","type":"Shadowsocks","udp":true},"印度尼西亚 01":{"history":[],"name":"印度尼西01","type":"Shadowsocks","udp":true},"台湾 01":{"history":[],"name":"台湾 01","type":"Shadowsocks","udp":true},"台湾 02":{"history":[],"name":"台湾 02","type":"Shadowsocks","udp":true},"台湾 03":{"history":[],"name":"台湾 03","type":"Shadowsocks","udp":true},"巴西 01":{"history":[],"name":"巴西 01","type":"Shadowsocks","udp":true},"德国 01":{"history":[],"name":"德国 01","type":"Shadowsocks","udp":true},"意大利 01":{"history":[],"name":"意大利 01","type":"Shadowsocks","udp":true},"新加坡 01":{"history":[],"name":"新加坡 01","type":"Shadowsocks","udp":true},"新加坡 02":{"history":[],"name":"新加坡 02","type":"Shadowsocks","udp":true},"新加坡 03":{"history":[],"name":"新加坡 03","type":"Shadowsocks","udp":true},"新加坡 04":{"history":[],"name":"新加坡 04","type":"Shadowsocks","udp":true},"新加坡 05":{"history":[],"name":"新加坡 05","type":"Shadowsocks","udp":true},"新加坡 06":{"history":[],"name":"新加坡 06","type":"Shadowsocks","udp":true},"新加坡 07":{"history":[],"name":"新加坡 07","type":"Shadowsocks","udp":true},"新加坡 08":{"history":[],"name":"新加坡 08","type":"Shadowsocks","udp":true},"日本 01":{"history":[],"name":"日本 01","type":"Shadowsocks","udp":true},"日本 02":{"history":[],"name":"日本 02","type":"Shadowsocks","udp":true},"日本 03":{"history":[],"name":"日本 03","type":"Shadowsocks","udp":true},"日本 04":{"history":[],"name":"日本 04","type":"Shadowsocks","udp":true},"日本 05":{"history":[],"name":"日本 05","type":"Shadowsocks","udp":true},"日本 06":{"history":[],"name":"日本 06","type":"Shadowsocks","udp":true},"日本 07":{"history":[],"name":"日本 07","type":"Shadowsocks","udp":true},"日本 08":{"history":[],"name":"日本 08","type":"Shadowsocks","udp":true},"法国 01":{"history":[],"name":"法国
01","type":"Shadowsocks","udp":true},"澳大利亚 01":{"history":[],"name":"澳大利亚 01","type":"Shadowsocks","udp":true},"美国 01":{"history":[],"name":"美国 01","type":"Shadowsocks","udp":true},"美国 02":{"history":[],"name":"美国 02","type":"Shadowsocks","udp":true},"美国 03":{"history":[],"name":"美国 03","type":"Shadowsocks","udp":true},"美国 04":{"history":[],"name":"美
国 04","type":"Shadowsocks","udp":true},"美国 05":{"history":[],"name":"美国 05","type":"Shadowsocks","udp":true},"美国 06":{"history":[],"name":"美国 06","type":"Shadowsocks","udp":true},"美国 07":{"history":[],"name":"美国 07","type":"Shadowsocks","udp":true},"英国 01":{"history":[],"name":"英国 01","type":"Shadowsocks","udp":true},"荷兰 01":{"history":[],"name":"荷兰 01","type":"Shadowsocks","udp":true},"越南 01":{"history":[],"name":"越南 01","type":"Shadowsocks","udp":true},"香港 01":{"history":[],"name":"香港 01","type":"Shadowsocks","udp":true},"香港
02":{"history":[],"name":"香港 02","type":"Shadowsocks","udp":true},"香港 03":{"history":[],"name":"香港 03","type":"Shadowsocks","udp":true},"香港 04":{"history":[],"name":"香港 04","type":"Shadowsocks","udp":true},"香港 05":{"history":[],"name":"香港 05","type":"Shadowsocks","udp":true},"香港 06":{"history":[],"name":"香港 06","type":"Shadowsocks","udp":true},"香港 07":{"history":[],"name":"香港 07","type":"Shadowsocks","udp":true},"香港 08":{"history":[],"name":"香港 08","type":"Shadowsocks","udp":true},"香港 09":{"history":[],"name":"香港 09","type":"Shadowsocks","udp":true},"香港 10":{"history":[],"name":"香港 10","type":"Shadowsocks","udp":true},"� 国外媒体":{"all":["� 节点选择","� 全球直连","香港 01","香港 02","香港 03","新加坡 01","新加坡 02","新加坡 03","日本 01","日本 02","日本 03","美国 01","美国 02","美国 03","台湾 01","台湾 02","越南 01","德国 01","香港 04","香港 05","台湾 03","日本 04","日本 05","日本 06","印度尼西亚 01","香港 06","香港 07","香港 08","香港 09","香港 10","美国 04","美国 05","新加坡 04","新加坡 05","新加坡 06","新加坡 07","新加坡 08","印度 01","日本 07","日本 08","美国 06","美国 07","巴西 01","意大利 01","荷兰 01","英国 01","澳大利亚 01","法国 01","加拿大 01"],"history":[],"name":"� 国外媒体","now":"� 节点选择","type":"Selector","udp":true},"� 应用净化":{"all"
:["REJECT","DIRECT","香港 01","香港 02","香港 03","新加坡 01","新加坡 02","新加坡 03","日本 01","日本 02","日本 03","美国 01","美国 02","美国 03","台湾 01","台湾 02","越南 01","德国 01","香港 04","香港 05","台湾 03","日本 04","日本 05","日本 06","印度尼西亚 01","香港 06","香港 07","香港 08","香港 09","香港 10","美国 04","美国 05","新加坡 04","新加坡 05","新加坡 06","新加坡 07","新加坡 08","印度 01","日本 07","日本 08","美国 06","美国 07","巴西 01","意大利 01","荷兰 01","英国 01","澳大利亚 01","法国 01","加拿大 01"],"history":[],"name":"� 应用净化","now":"R
EJECT","type":"Selector","udp":true},"� 苹果服务":{"all":["� 节点选择","� 全球直连","香港 01","香港 02","香港 03","新加坡 01","新加坡 02","新加坡 03","日本 01","日本 02","日本 03","美国 01","美国 02","美国 03","台湾 01","台湾 02","越南 01","德国 01","香港 04","香港 05","台湾 03","日本 04","日本 05","日本 06","印度尼西亚 01","香港 06","香港 07","香港 08","香港 09","香港 10","美国 04","美国 05","新加坡 04","新加坡 05","新加坡 06","新加坡 07","新加坡 08","印度 01","日本 07","日本 08","美国 06","美国 07","巴西 01","意大利 01","荷兰 01","英国 01","澳大利亚 01","法国 01","加拿大 01"],"history":[],"name":"� 苹果服务","now":"� 节点选择","type":"Selector","udp":true},"� 全球直连"{"all":["DIRECT","� 节点选择","香港 01","香港 02","香港 03","新加坡 01","新加坡 02","新加坡 03","日本 01","日本 02","日本 03","美国 01","美国 02","美国 03","台湾 01","台湾 02","越南 01","德国 01","香港 04","香港 05","台湾 03","日本 04","日本 05","日本 06","印度尼西亚 01","香港 06","香港 07","香港 08","香港 09","香港 10","美国 04","美国 05","新加
坡 04","新加坡 05","新加坡 06","新加坡 07","新加坡 08","印度 01","日本 07","日本 08","美国 06","美国 07","巴西 01","意大利 01","荷兰 01","英国 01","澳大利亚 01","法国 01","加拿大 01"],"history":[],"name":"� 全球直连","now":"DIRECT","type":"Selector","udp":true},"� 漏网之鱼":{"all
":["� 节点选择","� 全球直连","香港 01","香港 02","香港 03","新加坡 01","新加坡 02","新加坡 03","日本 01","日本 02","日本 03","美国 01","美国 02","美国 03","台湾 01","台湾 02","越南 01","德国 01","香港 04","香港 05","台湾 03","日本 04","日本 05","日本 06","印度尼西亚 01","香港 06","香港 07","香港 08","香港 09","香港 10","美国 04","美国 05","新加坡 04","新加坡 05","新加坡 06","新加坡 07","新加坡 08","印度 01","日本 07","日本 08","美国 06","美国 07","巴西 01","意大利 01","荷兰 01","英国 01","澳大利亚 01","法国 01","加拿大 01"],"history":[],"name":"� 漏网之鱼
","now":"� 节点选择","type":"Selector","udp":true},"� 谷歌FCM":{"all":["� 节点选择","� 全
球直连","香港 01","香港 02","香港 03","新加坡 01","新加坡 02","新加坡 03","日本 01","日本 02","日本 03","美国 01","美国 02","美国 03","台湾 01","台湾 02","越南 01","德国 01","香港 04","香港 05","台湾 03","日本 04","日本 05","日本 06","印度尼西亚 01","香港 06","香港 07","香港 08","香港 09","香港 10","美国 04","美国 05","新加坡 04","新加坡 05","新加坡 06","新加坡 07","新加坡 08","印度 01","日本 07","日本 08","美国 06","美国 07","巴西 01","意大利 01","荷兰 01","英国 01","澳大利亚 01","法国 01","加拿大 01"],"history":[],"name":"� 谷歌FCM","now":"� 节点选择","
type":"Selector","udp":true},"� 电报信息":{"all":["� 节点选择","� 全球直连","香港 01","香港
 02","香港 03","新加坡 01","新加坡 02","新加坡 03","日本 01","日本 02","日本 03","美国 01","美
国 02","美国 03","台湾 01","台湾 02","越南 01","德国 01","香港 04","香港 05","台湾 03","日本 04","日本 05","日本 06","印度尼西亚 01","香港 06","香港 07","香港 08","香港 09","香港 10","美国
 04","美国 05","新加坡 04","新加坡 05","新加坡 06","新加坡 07","新加坡 08","印度 01","日本 07","日本 08","美国 06","美国 07","巴西 01","意大利 01","荷兰 01","英国 01","澳大利亚 01","法国 01","加拿大 01"],"history":[],"name":"� 电报信息","now":"� 节点选择","type":"Selector","udp":
true},"� 节点选择":{"all":["DIRECT","香港 01","香港 02","香港 03","新加坡 01","新加坡 02","新
加坡 03","日本 01","日本 02","日本 03","美国 01","美国 02","美国 03","台湾 01","台湾 02","越南
 01","德国 01","香港 04","香港 05","台湾 03","日本 04","日本 05","日本 06","印度尼西亚 01","香
港 06","香港 07","香港 08","香港 09","香港 10","美国 04","美国 05","新加坡 04","新加坡 05","新
加坡 06","新加坡 07","新加坡 08","印度 01","日本 07","日本 08","美国 06","美国 07","巴西 01","意大利 01","荷兰 01","英国 01","澳大利亚 01","法国 01","加拿大 01"],"history":[],"name":"� 节
点选择","now":"DIRECT","type":"Selector","udp":true},"� 全球拦截":{"all":["REJECT","DIRECT","
香港 01","香港 02","香港 03","新加坡 01","新加坡 02","新加坡 03","日本 01","日本 02","日本 03","美国 01","美国 02","美国 03","台湾 01","台湾 02","越南 01","德国 01","香港 04","香港 05","台
湾 03","日本 04","日本 05","日本 06","印度尼西亚 01","香港 06","香港 07","香港 08","香港 09","香港 10","美国 04","美国 05","新加坡 04","新加坡 05","新加坡 06","新加坡 07","新加坡 08","印度
 01","日本 07","日本 08","美国 06","美国 07","巴西 01","意大利 01","荷兰 01","英国 01","澳大利
亚 01","法国 01","加拿大 01"],"history":[],"name":"� 全球拦截","now":"REJECT","type":"Selecto
r","udp":true}}}
```

```shell
# zt @ zt-zjh in ~ [10:36:13]
$ curl -X GET http://127.0.0.1:9090/proxies/GLOBAL
{"all":["DIRECT","REJECT","香港 01","香港 02","香港 03","新加坡 01","新加坡 02","新加坡 03","
日本 01","日本 02","日本 03","美国 01","美国 02","美国 03","台湾 01","台湾 02","越南 01","德国
 01","香港 04","香港 05","台湾 03","日本 04","日本 05","日本 06","印度尼西亚 01","香港 06","香
港 07","香港 08","香港 09","香港 10","美国 04","美国 05","新加坡 04","新加坡 05","新加坡 06","新加坡 07","新加坡 08","印度 01","日本 07","日本 08","美国 06","美国 07","巴西 01","意大利 01","荷兰 01","英国 01","澳大利亚 01","法国 01","加拿大 01","� 节点选择","� 国外媒体","� 电报
信息","Ⓜ️ 微软服务","� 苹果服务","� 谷歌FCM","� 全球直连","� 全球拦截","� 应用净化","�
 漏网之鱼"],"history":[],"name":"GLOBAL","now":"DIRECT","type":"Selector","udp":true}
```

```shell
# zt @ zt-zjh in ~ [11:08:49] C:2
$ curl -X GET http://127.0.0.1:9090/configs
{"port":7890,"socks-port":7891,"redir-port":0,"tproxy-port":0,"mixed-port":0,"authentication":[],"allow-lan":true,"bind-address":"*","mode":"rule","log-level":"info","ipv6":false}
```

```
# zt @ zt-zjh in ~ [11:32:23]
$ curl -X GET http://127.0.0.1:9090/proxies/GLOBAL
{"all":["DIRECT","REJECT","香港 01","香港 02","香港 03","新加坡 01","新加坡 02","新加坡 03","
日本 01","日本 02","日本 03","美国 01","美国 02","美国 03","台湾 01","台湾 02","越南 01","德国
 01","香港 04","香港 05","台湾 03","日本 04","日本 05","日本 06","印度尼西亚 01","香港 06","香
港 07","香港 08","香港 09","香港 10","美国 04","美国 05","新加坡 04","新加坡 05","新加坡 06","新加坡 07","新加坡 08","印度 01","日本 07","日本 08","美国 06","美国 07","巴西 01","意大利 01","荷兰 01","英国 01","澳大利亚 01","法国 01","加拿大 01","� 节点选择","� 国外媒体","� 电报
信息","Ⓜ️ 微软服务","� 苹果服务","� 谷歌FCM","� 全球直连","� 全球拦截","� 应用净化","�
 漏网之鱼"],"history":[],"name":"GLOBAL","now":"DIRECT","type":"Selector","udp":true}
```

```
# zt @ zt-zjh in ~ [11:35:34]
$ curl -XPATCH 127.0.0.1:9090/configs -d '{ "mode": "rule" }'

# zt @ zt-zjh in ~ [11:41:02]
$ curl  127.0.0.1:9090/configs
{"port":7890,"socks-port":7891,"redir-port":0,"tproxy-port":0,"mixed-port":0,"authentication":[],"allow-lan":true,"bind-address":"*","mode":"rule","log-level":"info","ipv6":false}

# zt @ zt-zjh in ~ [11:42:20] C:130
$ curl -XPATCH 127.0.0.1:9090/configs -d '{ "mode": "rule" }'
```

